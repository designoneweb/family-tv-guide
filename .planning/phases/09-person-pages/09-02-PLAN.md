---
phase: 09-person-pages
plan: 02
type: execute
---

<objective>
Create person page UI with photo, bio, filmography, and make cast cards clickable.

Purpose: Enable IMDb-like actor/crew browsing from episode detail pages.
Output: Person detail page at /app/person/[id] with clickable cast cards throughout the app.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior plan in this phase:
@.planning/phases/09-person-pages/09-01-SUMMARY.md

# Existing UI patterns:
@web/app/app/show/[id]/season/[seasonNumber]/episode/[episodeNumber]/episode-client.tsx
@web/lib/tmdb/images.ts

**Tech stack available:** Next.js 16, shadcn/ui components, Tailwind, profile image helpers
**Established patterns:** Client components for data fetching, parallel API calls, CastCard component, getProfileUrl helper

**Key decisions from prior phases:**
- Profile image sizes: small (w45), medium (w185), large (h632)
- CastCard currently shows profile image + name + character
- Episode detail page has horizontal scrolling cast/guest star sections

**PROJECT requirements for Person Page:**
- Photo, bio, known for (clickable)
- TV credits with Acting/Crew filter
- Combined credits (TV + movies) for full filmography
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create person detail page</name>
  <files>web/app/app/person/[id]/page.tsx, web/app/app/person/[id]/person-client.tsx</files>
  <action>
  Create person page following existing show/episode page patterns:

  1. page.tsx - Server component wrapper
     - Extract id from params
     - Render PersonClient with personId prop

  2. person-client.tsx - Client component with:
     - State: person details, combined credits, loading, error
     - useEffect to fetch /api/tmdb/person/{id} and /api/tmdb/person/{id}/credits in parallel
     - Filter controls: "All" | "Acting" | "Crew" and "All" | "TV" | "Movies"
     - UI layout (top to bottom):

     a) Back navigation (if referrer exists)

     b) Profile header section (flex row on desktop, stack on mobile):
        - Large profile image (h632 size, 2:3 aspect ratio, User icon fallback)
        - Info column:
          - Name (h1)
          - Known for department badge (e.g., "Acting")
          - Birth date / death date if available
          - Place of birth
          - Biography (collapsible if >500 chars, "Read more" toggle)

     c) Filmography section:
        - Filter row: Acting/Crew toggle, TV/Movies toggle (use Button variants)
        - Grid of credit cards (responsive: 2 cols mobile, 4 cols tablet, 6 cols desktop)
        - Each credit card shows:
          - Poster image (w185 size)
          - Title (name for TV, title for movie)
          - Character or job
          - Year (from first_air_date or release_date)
          - Episode count badge for TV with >1 episode
        - Sort by: most recent first (parse dates)
        - Click navigates to /app/show/{id} for TV (movies: no action yet, tooltip "Coming soon")

  Use shadcn Button for filter toggles. Use existing loading/error patterns from episode-client.
  </action>
  <verify>
  Navigate to http://localhost:3000/app/person/1 (George Lucas)
  - Profile image, name, bio visible
  - Filmography shows TV and movie credits
  - Filters work correctly
  </verify>
  <done>Person page displays full details, filmography filters work, TV credits link to show pages</done>
</task>

<task type="auto">
  <name>Task 2: Make cast cards clickable</name>
  <files>web/app/app/show/[id]/season/[seasonNumber]/episode/[episodeNumber]/episode-client.tsx</files>
  <action>
  Update CastCard component in episode-client.tsx to be clickable:

  1. Wrap the existing CastCard content in a Link from next/link
     - href="/app/person/{person.id}"
     - Add hover state: slight scale-up (transform scale-[1.02]) and shadow
     - Add transition-transform duration-150
     - Keep the existing layout intact

  2. Add cursor-pointer to the card container

  The component already has the person.id available from TMDBCastMember | TMDBGuestStar types.
  </action>
  <verify>
  Navigate to any episode detail page (e.g., /app/show/1399/season/1/episode/1 for Game of Thrones)
  - Hover over cast cards shows scale effect
  - Click navigates to /app/person/{id}
  </verify>
  <done>Cast cards are clickable links, hover state visible, navigation to person page works</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] /app/person/1 loads George Lucas page with photo, bio, credits
- [ ] Filmography filters (Acting/Crew, TV/Movies) work correctly
- [ ] TV credits in filmography link to show detail pages
- [ ] Cast cards on episode detail page are clickable
- [ ] Clicking cast card navigates to person page
- [ ] `npm run build` succeeds
</verification>

<success_criteria>

- Person page exists at /app/person/[id] with photo, bio, filmography
- Filmography shows combined TV + movie credits with working filters
- Cast cards throughout app link to person pages
- All verification checks pass
- Phase 9 complete
</success_criteria>

<output>
After completion, create `.planning/phases/09-person-pages/09-02-SUMMARY.md` using summary.md template
</output>
